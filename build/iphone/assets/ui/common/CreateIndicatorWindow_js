function CreateIndicatorWindow(e){function o(){return style=Ti.UI.iPhone.ActivityIndicatorStyle.BIG,"iPhone OS"!==Ti.Platform.name&&(style=Ti.UI.ActivityIndicatorStyle.BIG_DARK),style}function t(){var e=L("loading"),o=2e3;if(s){indWin=Ti.UI.createWindow();var t=Ti.UI.createView({height:150,width:250,borderRadius:10,backgroundColor:"#bbb",opacity:.8});indWin.add(t);var i=Ti.UI.createLabel({text:e?e:L("please_wait"),color:"#fff",width:"auto",height:"auto",textAlign:"center",font:{fontSize:14,fontWeight:"bold"}});t.add(i),indWin.open(),o=o?o:2500,setTimeout(function(){indWin.close({opacity:0,duration:1e3})},o),indWin.addEventListener("blur",function(){indWin.close()})}if(a){var n=Ti.UI.createNotification({duration:Ti.UI.NOTIFICATION_DURATION_LONG,message:e});n.show()}}function i(){}var n="60%",r="25%",e=e||{};e.top||8,e.text||L("loading");var a="android"==Ti.Platform.osname?!0:!1,s="iphone"==Ti.Platform.osname?!0:!1,c=Ti.UI.createWindow({height:"100%",width:"100%",backgroundColor:"#000",opacity:0,fullscreen:!1,navBarHidden:!0,touchEnabled:!1}),d=Ti.UI.createView({height:r,width:n,borderRadius:10,backgroundColor:"#000",opacity:.8,center:{y:"50%",x:"50%"},layout:"horizontal"}),l=Ti.UI.createActivityIndicator({style:o(),left:"10%",height:Ti.UI.FILL,width:"20%"}),p=Ti.UI.createLabel({width:"auto",height:"auto",text:L("loading"),color:"#ffffff",font:{fontSize:"18dp"},left:"20"});return d.add(l),l.show(),d.add(p),c.add(d),c.addEventListener("blur",function(){i()}),c.openIndicator=t,c.closeIndicator=i,c}exports.CreateIndicatorWindow=CreateIndicatorWindow;