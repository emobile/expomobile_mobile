function DetalleWindow(e,i){function t(){Ti.Media.vibrate(),expDetWdw.close()}function o(){r>0?(labelCuentaExposiciones.text=l+1+" "+L("of")+" "+r,textFieldExposicion.value=a[l].name,textFieldHora.value=a[l].start_hour+" - "+a[l].end_hour,textFieldFechaInicio.value=a[l].start_day,textFieldFechaTermino.value=a[l].end_day):w.show()}var a,n,r,d=require("lib/network"),l=0,s=require("tools"),c=s.isiOS7Plus();expDetWdw=Ti.UI.createWindow({tabBarHidden:!0,backgroundImage:"/images/background.png",width:"100%",height:"100%",layout:"composite",fullscreen:c,navBarHidden:!0}),scrollView=Ti.UI.createView({id:"scrollView",backGroundColor:"transparent",height:Ti.UI.SIZE,width:"100%",layout:"vertical",top:80});var u=require("templates"),p=u.getTopBar(L("exhibitions"),"/images/iconexposiciones.png",t);bottomBar=Ti.UI.createView({id:"bottomBar",backgroundColor:"transparent",height:Ti.UI.SIZE,width:"100%",bottom:"5",left:0}),buttonFirst=Ti.UI.createImageView({id:"buttonFirst",image:"/images/buttonfirst.png",width:48,height:48,top:"0%",left:"10px"}),buttonPrev=Ti.UI.createImageView({id:"buttonPrev",image:"/images/previous.png",width:48,height:48,top:"0%",left:"68"}),buttonNext=Ti.UI.createImageView({id:"buttonNext",image:"/images/next.png",width:48,height:48,top:"0%",right:"68"}),buttonLast=Ti.UI.createImageView({id:"buttonLast",image:"/images/buttonfinal.png",width:48,height:48,top:"0%",right:"10px"}),n=Ti.UI.createScrollView({backgroundColor:"transparent",width:"100%",height:Ti.UI.SIZE,layout:"vertical"}),labelCuentaExposiciones=Ti.UI.createLabel({id:"labelExposiciones",height:"auto",width:"auto",font:{fontWeight:"bold",fontSize:"20dp"},color:"#2c2c2c",right:"5%"}),line=Ti.UI.createView({width:"100%",height:1,backgroundColor:"black",anchorPoint:{x:0,y:0},top:3,bottom:3}),labelExposicionTitulo=Ti.UI.createLabel({id:"labelExposicionTitulo",height:"auto",width:"auto",text:L("exhibition"),font:{fontWeight:"bold",fontSize:"20dp"},color:"black"}),textFieldExposicion=Ti.UI.createTextField({id:"textFieldExposicion",width:"90%",enabled:!1,font:{fontWeight:"bold",fontSize:"18dp"},color:"#798d8d",borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),labelHora=Ti.UI.createLabel({id:"labelHora",height:"auto",width:"auto",text:L("hour"),font:{fontWeight:"bold",fontSize:"20dp"},color:"black"}),textFieldHora=Ti.UI.createTextField({id:"textFieldHora",width:"90%",enabled:!1,font:{fontWeight:"bold",fontSize:"18dp"},color:"#798d8d",borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),labelFechaInicio=Ti.UI.createLabel({id:"labelFechaInicio",height:"auto",width:"auto",text:L("start_time"),font:{fontWeight:"bold",fontSize:"20dp"},color:"black"}),textFieldFechaInicio=Ti.UI.createTextField({id:"textFieldFechaInicio",width:"90%",enabled:!1,font:{fontWeight:"bold",fontSize:"18dp"},color:"#798d8d",borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),labelFechaTermino=Ti.UI.createLabel({id:"labelFechaTermino",height:"auto",width:"auto",text:L("end_time"),font:{fontWeight:"bold",fontSize:"20dp"},color:"black"}),textFieldFechaTermino=Ti.UI.createTextField({id:"textFieldFechaTermino",width:"90%",enabled:!1,font:{fontWeight:"bold",fontSize:"18dp"},color:"#798d8d",borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),buttonPrev.addEventListener("click",function(){Ti.Media.vibrate(),l>0&&(l--,o())}),buttonNext.addEventListener("click",function(){Ti.Media.vibrate(),r-1>l&&(l++,o())}),n.add(labelCuentaExposiciones),n.add(line),n.add(labelExposicionTitulo),n.add(textFieldExposicion),n.add(labelHora),n.add(textFieldHora),n.add(labelFechaInicio),n.add(textFieldFechaInicio),n.add(labelFechaTermino),n.add(textFieldFechaTermino),scrollView.add(n),expDetWdw.addEventListener("load",function(){textFieldExposicion.blur()});var w=Ti.UI.createAlertDialog({title:L("tittlealert"),message:L("noexhibitions"),buttonNames:[L("ok")]});return d.getExpositions(i,function(e){a=e,r=a.length,o()}),expDetWdw.add(p),expDetWdw.add(scrollView),bottomBar.add(buttonFirst),bottomBar.add(buttonLast),bottomBar.add(buttonPrev),bottomBar.add(buttonNext),expDetWdw.add(bottomBar),w.addEventListener("click",function(e){if(0==e.index){var i,t=require("ui/handheld/ExposicionesWindow");new t(i).open()}}),buttonFirst.addEventListener("click",function(){Ti.Media.vibrate(),l=0,o()}),buttonLast.addEventListener("click",function(){Ti.Media.vibrate(),l=r-1,o()}),buttonPrev.addEventListener("click",function(){Ti.Media.vibrate(),l>0&&(l--,o())}),buttonNext.addEventListener("click",function(){Ti.Media.vibrate(),r-1>l&&(l++,o())}),expDetWdw.addEventListener("android:back",function(){Ti.Media.vibrate(),expDetWdw.close()}),expDetWdw}module.exports=DetalleWindow;