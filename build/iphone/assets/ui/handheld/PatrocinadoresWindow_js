function PatrocinadoresWindow(){function e(){for(var e=[],i=Ti.Database.open("anadicDB"),t=i.execute("SELECT * FROM sponsors");t.isValidRow();){var o,a="http://"+Ti.App.Properties.getString("hostname")+t.fieldByName("mobile_logo_url"),n=/missing.jpg/g,r=n.test(a);o=1==r?"/images/unavailable_small.jpg":"http://"+Ti.App.Properties.getString("hostname")+t.fieldByName("mobile_logo_url");var d=t.fieldByName("social_reason");d.length>31&&(d=d.substring(0,28)+"...");var c=Ti.UI.createTableViewRow({id:t.fieldByName("id"),title:d,isparent:!0,opened:!1,hasChild:!0,color:"black"});e.push(c),t.next()}t.close(),i.close(),table.setData(e)}function i(){Ti.Media.vibrate(),patrocinadoresWdw.close()}var t=require("ui/handheld/patrocinadores/PatrocinadoresInfoWindow");return patrocinadoresWdw=Ti.UI.createWindow({tabBarHidden:!0,backgroundColor:"white",width:"100%",height:"100%",layout:"vertical",fullscreen:!1,navBarHidden:!0}),table=Ti.UI.createTableView({width:"90%",height:"100%"}),scrollView_1=Ti.UI.createView({id:"scrollView_1",backgroundImage:"/images/background.png",height:"100%",width:"100%",layout:"vertical"}),imageViewBar=Ti.UI.createView({id:"imageViewBar",backgroundColor:Ti.App.Properties.getString("viewcolor"),height:80,left:0,top:0,width:"100%"}),imageView=Ti.UI.createImageView({id:"imageView",image:"/images/iconpatrocinadores.png",width:60,height:60,top:"10dp",left:"10dp"}),labelTitulo=Ti.UI.createLabel({id:"labelTitulo",width:Ti.UI.SIZE,height:"auto",text:L("sponsors"),font:{fontSize:"22dp"},color:"white",center:{x:"50%"},top:15}),buttonClose=Ti.UI.createImageView({id:"buttonClose",image:"/images/close.png",width:30,height:30,top:"10dp",right:"10dp"}),imageViewBar.add(imageView),imageViewBar.add(buttonClose),imageViewBar.add(labelTitulo),patrocinadoresWdw.add(imageViewBar),scrollView_1.add(table),patrocinadoresWdw.add(scrollView_1),e(),table.addEventListener("click",function(e){Ti.Media.vibrate();var i=t.PatrocinadoresInfoWindow(e.rowData.id);i.openView()}),buttonClose.addEventListener("click",i),patrocinadoresWdw.addEventListener("android:back",evento=function(e){e.source.removeEventListener("android:back",arguments.callee),i()}),patrocinadoresWdw}module.exports=PatrocinadoresWindow;